"0","#this chunk puts all of the data from persons.csv and genderize_results.json into the dataframe ""data"" (i know, it's a horrible name)"
"0","data <-read.csv(""persons_thorough.csv"", na.strings=c("" ""))"
"0","json_file <- ""genderize_results.json"""
"0","newout <- jsonlite::fromJSON(json_file)"
"0","r = 1"
"0","while (r <= nrow(data)) {"
"0","  oldgen = (data[r,]$gender)"
"0","  if ((oldgen != ""F"") && (oldgen != ""M"")){"
"0","    newgen = (newout[r,]$gender)"
"0","    if(is.na(newgen)){"
"0","      #print(""oh well"")"
"0","    }"
"0","    else{"
"0","      if(newgen == ""female""){"
"0","      data[r,]$gender = ""F"""
"0","      }"
"0","      if(newgen == ""male""){"
"0","        data[r,]$gender = ""M"""
"0","      }"
"0","    }"
"0","  }"
"0","  r = r + 1"
"0","}"
"0","write.csv(file=""thingy"", x=data)"
